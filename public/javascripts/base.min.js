var express=require("express"),path=require("path"),favicon=require("serve-favicon"),logger=require("morgan"),cookieParser=require("cookie-parser"),bodyParser=require("body-parser"),routes=require("./routes/index"),users=require("./routes/users"),profile=require("./routes/profile"),app=express();app.set("views",path.join(__dirname,"views")),app.set("view engine","jade"),app.use(logger("dev")),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use(cookieParser()),app.use(express["static"](path.join(__dirname,"public"))),app.use("/",routes),app.use("/users",users),app.use("/profile",profile),app.use(function(e,t,r){var s=new Error("Not Found");s.status=404,r(s)}),"development"===app.get("env")&&app.use(function(e,t,r,s){r.status(e.status||500),r.render("error",{message:e.message,error:e})}),app.use(function(e,t,r,s){r.status(e.status||500),r.render("error",{message:e.message,error:{}})}),module.exports=app;var battlenetApp=angular.module("battlenetApp",[]);battlenetApp.factory("idAndName",["$http",function(e){return{getProfile:function(t,r){return e.get("https://us.api.battle.net/sc2/profile/"+t+"/1/"+r+"/?locale=en_US&apikey=pshyp9tgvegq2wuftgu4pu9femmpgbcj").then(function(e){return e.data})["catch"](function(e){console.log("Something broke",e.status,e.data)})},getMatches:function(t,r){return e.get("https://us.api.battle.net/sc2/profile/"+t+"/1/"+r+"/matches?locale=en_US&apikey=pshyp9tgvegq2wuftgu4pu9femmpgbcj").then(function(e){return e.data.matches})["catch"](function(e){console.log("Something broke",e.status,e.data)})}}}]),battlenetApp.controller("GetUserInformationCtrl",["$scope","idAndName",function(e,t){e.processForm=function(){t.getProfile(e.id,e.name).then(function(t){e.profile=t}),t.getMatches(e.id,e.name).then(function(t){e.matches=t})}}]);